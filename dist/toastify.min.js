"use strict";(()=>{const g=t=>t===null,b=t=>typeof t>"u",o=t=>b(t)||g(t),u=new Set,m=new Map,v=new Map,p=new Map;function C(t,e,{immediate:s=!1}={}){let i=null;const n=function(...a){const r=s&&!i;i&&clearTimeout(i),i=setTimeout(()=>{i=null,s||t.apply(this,a)},e),r&&t.apply(this,a)};return n.cancel=()=>{i&&(clearTimeout(i),i=null)},n}const E=(t,e)=>{const s=`toast-container-${t}-${e}`;if(!p.has(s)){const i=document.createElement("div");i.id=s,i.classList.add("toast-container",`toast-${t}`,`toast-${e}`),document.body.appendChild(i),p.set(s,i)}return p.get(s)},f=(t,e)=>{l(t);const s=Date.now(),i=t.options.duration,n=()=>{const c=Date.now()-s,d=Math.max(0,i-c);t.progress.style.setProperty("--toast-progress",`${d/i}`)},a=window.setInterval(n,50),r=window.setTimeout(()=>{t.progress.style.setProperty("--toast-progress","0"),e(),l(t)},i);m.set(t,r),v.set(t,a)},l=t=>{const e=m.get(t),s=v.get(t);o(e)||(clearTimeout(e),m.delete(t)),o(s)||(clearInterval(s),v.delete(t))},h=document.createElement("div");h.classList.add("offscreen-container");document.body.appendChild(h);window.addEventListener("resize",C(()=>{for(const t of u)t.setToastRect()},100));class y{static defaults={gravity:"top",position:"right",stopOnFocus:!0,oldestFirst:!0};options;root;element;gravity;position;oldestFirst;stopOnFocus;content;progress;mouseOverHandler;mouseLeaveHandler;closeButtonHandler;animationEndHandler;clickHandler;closeButton;constructor(e){this.options={...y.defaults,...e},this.root=E(this.options.gravity,this.options.position),this.gravity=this.options.gravity,this.position=this.options.position,this.stopOnFocus=this.options.stopOnFocus,this.oldestFirst=this.options.oldestFirst,this.element=document.createElement("div"),this.applyBaseStyles().addCloseButton().createContent().ensureCloseMethod().bindEvents(),u.add(this)}applyBaseStyles(){return this.element.classList.add("toast"),this.options.className&&(Array.isArray(this.options.className)?this.options.className:[this.options.className]).forEach(s=>this.element.classList.add(s)),this}createContent(){return this.content=document.createElement("div"),this.content.classList.add("toast-content"),this.options.text&&(this.content.textContent=this.options.text),this.options.node&&this.content.appendChild(this.options.node),this.options.style&&this.applyStyles(this.content,this.options.style),!o(this.options.duration)&&this.options.duration>0&&(this.progress=document.createElement("div"),this.progress.classList.add("toast-progress"),this.content.appendChild(this.progress)),this.element.appendChild(this.content),this}addCloseButton(){return this.options.close&&(this.closeButton=document.createElement("span"),this.closeButton.className="toast-close",this.closeButton.textContent="ðŸ—™",this.closeButtonHandler=()=>this.hide("close-button"),this.closeButton.addEventListener("click",this.closeButtonHandler),this.element.appendChild(this.closeButton)),this}setToastRect(){this.element.classList.contains("show")||h.appendChild(this.element),this.element.style.removeProperty("--toast-height"),this.element.style.removeProperty("--toast-width"),this.element.style.setProperty("max-height","none","important"),this.element.style.setProperty("max-width","none","important"),this.position=="center"&&this.element.style.setProperty("max-width",`${this.root.getBoundingClientRect().width}px`,"important");const{height:e,width:s}=this.element.getBoundingClientRect();return this.element.style.setProperty("--toast-height",`${e}px`),this.element.style.setProperty("--toast-width",`${s}px`),this.element.style.removeProperty("max-height"),this.element.style.removeProperty("max-width"),this.element.classList.contains("show")||h.removeChild(this.element),this}ensureCloseMethod(){return o(this.options.duration)&&o(this.options.close)&&o(this.options.onClick)&&(this.options.onClick=()=>this.hide("other")),this}bindEvents(){return this.stopOnFocus&&!o(this.options.duration)&&this.options.duration>0&&(this.mouseOverHandler=()=>l(this),this.mouseLeaveHandler=()=>f(this,()=>this.hide("timeout")),this.element.addEventListener("mouseover",this.mouseOverHandler),this.element.addEventListener("mouseleave",this.mouseLeaveHandler)),o(this.options.onClick)||(this.clickHandler=this.options.onClick.bind(this),this.element.addEventListener("click",this.clickHandler)),this}applyStyles(e,s){function i(n){return n.replace(/([A-Z])/g,"-$1").toLowerCase()}for(const n in s){const a=s[n],r=i(n);if(o(a)){e.style.removeProperty(r);continue}const c=a.includes("!important"),d=a.replace(/\s*!important\s*/,"").trim();e.style.setProperty(r,d,c?"important":"")}}toggleAnimationState(e){return this.element.classList.replace(e?"hide":"show",e?"show":"hide")||this.element.classList.add(e?"show":"hide"),this}insertToastElement(){return this.oldestFirst?this.root.insertBefore(this.element,this.root.firstChild):this.root.lastChild?this.root.insertBefore(this.element,this.root.lastChild.nextSibling):this.root.appendChild(this.element),this}setupAutoHide(){return!o(this.options.duration)&&this.options.duration>0&&f(this,()=>this.hide("timeout")),this}show(){return this.setToastRect().insertToastElement().toggleAnimationState(!0).setupAutoHide(),this}showToast(){return this.show()}removeEventListeners(){return this.mouseOverHandler&&this.element.removeEventListener("mouseover",this.mouseOverHandler),this.mouseLeaveHandler&&this.element.removeEventListener("mouseleave",this.mouseLeaveHandler),this.clickHandler&&this.element.removeEventListener("click",this.clickHandler),this.options.close&&this.closeButton&&this.closeButtonHandler&&this.closeButton.removeEventListener("click",this.closeButtonHandler),this}hide(e="other"){this.element&&(l(this),u.delete(this),this.animationEndHandler=s=>{s.animationName.startsWith("toast-out")&&(this.element.removeEventListener("animationend",this.animationEndHandler),this.element.remove(),this.options.onClose?.call(this,new CustomEvent("toast-close",{detail:{reason:e}})))},this.element.addEventListener("animationend",this.animationEndHandler),this.removeEventListeners().toggleAnimationState(!1))}hideToast(){this.hide("other")}}function T(t){return new y(t)}globalThis.Toast=T;globalThis.Toastify=T;})();
//# sourceMappingURL=toastify.min.js.map
